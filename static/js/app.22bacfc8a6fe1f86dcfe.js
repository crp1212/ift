webpackJsonp([1],{"8dbJ":function(t,e,a){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"电子合同",a=t.offsetHeight,n=t.offsetWidth;return s()(t,{useCORS:!0,scale:2,width:n,height:a}).then(function(t){var a=t.width,n=t.height,i=a/592.28*841.89,s=n,r=0,l=592.28/a*n,c=t.toDataURL("image/jpeg",1),d=new o.a("","pt","a4");if(s<i)d.addImage(c,"JPEG",0,0,595.28,l);else for(;s>0;)d.addImage(c,"JPEG",0,r,595.28,l),s-=i,r-=841.89,s>0&&d.addPage();d.save(e+".pdf")})}e.a=n;var i=a("2Pnh"),s=a.n(i),r=a("l9mu"),o=a.n(r)},H8Ne:function(t,e,a){t.exports=a.p+"static/img/print-logo.38830b9.png"},M93x:function(t,e,a){"use strict";function n(t){a("v/JQ")}var i=a("xJD8"),s=a("l5yy"),r=a("VU/8"),o=n,l=r(i.a,s.a,o,null,null);e.a=l.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i=a("M93x"),s=a("tvR6"),r=(a.n(s),a("zL8q")),o=a.n(r);n.default.use(o.a),new n.default({el:"#app",data:{},template:"<App/>",components:{App:i.a}})},TEJg:function(t,e,a){"use strict";var n=a("fZjL"),i=a.n(n),s=a("Dd8w"),r=a.n(s),o=a("8dbJ"),l=a("H8Ne"),c=a.n(l),d=a("vnjs"),u=a("71e1"),v=a.n(u);e.a={name:"print",components:{},mixins:{},props:{},data:function(){return{packageData:[],tableData:[],LogoUrl:c.a,deliveryList:[],detail:{},qrcodeUrl:""}},methods:{objectSpanMethod:function(t){var e=t.row;t.column,t.rowIndex;if(5!==t.columnIndex)return e.isFirst?{rowspan:e.spanCount,colspan:1}:{rowspan:0,colspan:0}},formatTableList:function(t){for(var e=0,a=0;a<t.length;a++)0===e?t[a].isFirst=!0:t[a].isHide=!0,++e===t[a].spanCount&&(e=0);return t},print:function(){a.i(o.a)(this.$refs.container,parseInt(1e9*Math.random()))},genData:function(t){var e=t.name,a=t.orderNo,n=t.count;return Array(n).fill({name:e,orderNo:a,count:n,unit:"pcs",remark:"asdasd",sn:parseInt(1e12*Math.random())}).map(function(t){return r()({},t)})},caculate:function(t,e){var a=this,n=1,i=[];for(console.log(e);t.length>0;)if(1===n){var s=t.splice(0,e);i.push(s),n=2}else i.push(t.splice(0,21));return i.forEach(function(t){return a.setSpanCount(t)}),i},setSpanCount:function(t){for(var e=0,a=void 0,n=t.length,i=void 0,s=0;s<n;s++)i?t[s].code===i&&s!==n-1||(a=s===n-1?s+1:s,i=t[s].code,t.slice(e,a).forEach(function(t){return t.spanCount=a-e}),e=s):i=t[s].code},setIndex:function(t){for(var e=1,a=void 0,n=0;n<t.length;n++)t[n].index=e,a?a!==t[n].orderNo&&(e++,t[n].index=e,a=t[n].orderNo):a=t[n].orderNo;return t},caculateLimitTop:function(t){return"top:"+1120*t+"px"},caculatePageTablePt:function(t){if(0!==t){return"padding-top: 55px;"+("padding-bottom:"+(t===this.tableData.length-1?"4px":"55px"))}var e=48*(this.firstTableLineNumber+1)+2,a=120+19*(3+this.deliveryList.length);if(!(a+e>1120))return 1===this.tableData.length?"padding-bottom: 4px":"padding-bottom:"+(1120-a-e)+"px"},caculateFirstPageTableNumber:function(){if(this.deliveryList.length<=3)return 16;var t=this.deliveryList.length-3;return 16-Math.ceil(t/2)},formatRequestData:function(t){var e=[];return t.forEach(function(t,a){e=e.concat(t.sn.map(function(e){return r()({},t,{sn:e,index:a+1})}))}),e},formatUnixTime:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss",a=new Date(1e3*t),n=a.getFullYear(),s=a.getMonth()+1,r=s<10?"0"+s:s,o=a.getDate(),l=o<10?"0"+o:o,c=a.getHours(),d=c<10?"0"+c:c,u=a.getMinutes(),v=u<10?"0"+u:u,f=a.getSeconds(),p=f<10?"0"+f:f,m={YYYY:n,MM:r,DD:l,HH:d,mm:v,ss:p};return i()(m).forEach(function(t){e=e.replace(new RegExp(t,"g"),m[t])}),e}},computed:{},watch:{},created:function(){var t=this;this.detail=d.a.data,this.deliveryList=d.a.data.express,this.detail.time=this.formatUnixTime(this.detail.create_at,"YYYY/MM/DD"),this.firstTableLineNumber=this.caculateFirstPageTableNumber();var e=this.caculate(this.formatRequestData(d.a.data.product),this.firstTableLineNumber).map(function(e){return t.formatTableList(e)});this.tableData=e},mounted:function(){var t=this;v.a.toDataURL("44531576981",{margin:0,width:60}).then(function(e){t.qrcodeUrl=e})}}},al4P:function(t,e){},hBLf:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{ref:"container",staticClass:"print-container"},[a("div",{staticClass:"header-info"},[a("div",{staticClass:"left-logo"},[a("img",{attrs:{src:t.LogoUrl,alt:""}})]),t._v(" "),a("div",{staticClass:"middle-title"},[t._v(t._s(t.detail.warehouse_name)+"出库单")]),t._v(" "),a("div",{staticClass:"right-code"},[a("img",{attrs:{id:"barCode",src:t.qrcodeUrl}})])]),t._v(" "),a("div",{staticClass:"order-info"},[a("div",{staticClass:"order-info-content"},[a("div",{staticClass:"fl-row"},[a("div",{staticClass:"width_240"},[a("div",{staticClass:"order-label"},[t._v("订单号: ")]),t._v(t._s(t.detail.number))]),t._v(" "),a("div",{staticClass:"width_240"},[a("div",{staticClass:"order-label"},[t._v("客户名称:")]),t._v(t._s(t.detail.client_name))]),t._v(" "),a("div",{staticClass:"width_240"},[a("div",{staticClass:"order-label"},[t._v("下单日期: ")]),t._v(t._s(t.detail.time))])]),t._v(" "),a("div",{staticClass:"fl-row"},[a("div",{staticClass:"width_240"},[a("div",{staticClass:"order-label"},[t._v("收件人:")]),t._v(t._s(t.detail.receive_name))]),t._v(" "),a("div",{staticClass:"width_240"},[a("div",{staticClass:"order-label"},[t._v("收件电话:")]),t._v(t._s(t.detail.receive_phone))]),t._v(" "),a("div",{staticClass:"width_240"},[a("div",{staticClass:"order-label"},[t._v("总件数:")]),t._v(t._s(t.detail.total_num))])]),t._v(" "),a("div",[a("div",[a("div",{staticClass:"order-label"},[t._v("收件地址: ")]),t._v(t._s(t.detail.address))])]),t._v(" "),t._l(t.deliveryList,function(e,n){return a("div",{key:n,staticClass:"fl-row"},[a("div",[a("div",{staticClass:"order-label"},[t._v("寄件单号: ")]),t._v(t._s(e.express_no))]),t._v(" "),a("div",{staticClass:"express-name"},[t._v(t._s(e.express_name))])])})],2)]),t._v(" "),a("div",{staticClass:"table-container"},[t._l(t.tableData,function(e,n){return a("div",{key:n,style:t.caculatePageTablePt(n)},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e,border:"","span-method":t.objectSpanMethod,"show-header":0===n}},[a("el-table-column",{attrs:{prop:"index",label:"序号",width:"60"}}),t._v(" "),a("el-table-column",{attrs:{prop:"code",label:"编码",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"物料名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"unit",label:"单位",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"send_num",label:"实发量",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sn",label:"序列号",width:"120"}})],1)],1)}),t._v(" "),t._m(0)],2)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fl-row bottom-line"},[a("div",[t._v("签收:")])])}],s={render:n,staticRenderFns:i};e.a=s},l5yy:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Print")],1)},i=[],s={render:n,staticRenderFns:i};e.a=s},s3cx:function(t,e,a){"use strict";function n(t){a("al4P")}var i=a("TEJg"),s=a("hBLf"),r=a("VU/8"),o=n,l=r(i.a,s.a,o,"data-v-39713e71",null);e.a=l.exports},tvR6:function(t,e){},"v/JQ":function(t,e){},vnjs:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var n={status:200,message:"SUCCESS",data:{number:"dingdanhao",client_name:"kehumingchen",create_at:15111111111,receive_name:"shoujianren",receive_phone:"13333333333",address:"alsdjflajsdlgjlaskdjg",total_num:"66",express:[{express_no:"eo123123",express_name:"顺丰到付"},{express_no:"eo123123",express_name:"顺丰到付"},{express_no:"eo123123",express_name:"顺丰到付"}],warehouse_name:"一个大仓",product:[{code:"wuliaobianma1",name:"wuliaomingchen1",send_num:2,sn:Array(2).fill("xuliehao").map(function(t,e){return t+(e+1)}),unit:"个"},{code:"wuliaobianma2",name:"wuliaomingchen2",send_num:3,sn:Array(3).fill("xuliehaa").map(function(t,e){return t+(e+1)}),unit:"件"}]}}},xJD8:function(t,e,a){"use strict";var n=a("s3cx");e.a={name:"app",components:{Print:n.a},data:function(){return{}},computed:{},methods:{},created:function(){},mounted:function(){}}}},["NHnr"]);